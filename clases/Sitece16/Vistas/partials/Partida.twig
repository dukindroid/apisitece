<?php
use Sitece16\Entidades\PlanDeGastos\Partida as Ptd;
require '../vendor/autoload.php';
require 'testHelp.php';

test::htmlTop("Tests de clase: Partida");

$mock = [
	'id' => '',
	'tipo' => '',
	'codigo' => '',
	'valor' => '',
	'status' => '',
	'seccion' => '',
	'comenta' => '',
	'otros' => '',
	'ayuda' => '',
];

$partida = new Ptd($mock);
echo "</br>";
echo "<i>Objeto <b>Partida</b> vacío:</i></br>";
test::d($partida);

echo "<br><i>Método <b>Partida::campos()</b></i></br>";
test::d($partida->campos());
echo "</br></br>";

echo "<br><i>Objeto <b>Partida</b> inicializado:</i></br>";
$mock2 = [
	'id' => '25',
	'tipo' => 'carrera',
	'codigo' => 'CA-103',
	'valor' => 'ALARMA',
	'status' => '1',
	'seccion' => 'GASTOS ADMON',
	'comenta' => '1',
	'otros' => 'Servicios de Monitoréo|Instalación',
	'ayuda' => 'Especifique el mes'
];
$partida2 = new Ptd($mock2);
test::d($partida2);

echo "</br><i>Método <b>Partida::getTipo()</b></i></br>";
test::d($partida2->getTipo());

echo "</br></br><i>Método <b>Partida::getCodigo()</b></i></br>";
test::d($partida2->getCodigo());

echo "</br></br><i>Método <b>Partida::getPocilga()</b></i></br>";
try {
	 $partida2->getPocilga();
} catch (Exception $e) {
	echo "Hubo una excepción!!";
	test::d($e->xdebug_message);
}

test::htmlBottom();
